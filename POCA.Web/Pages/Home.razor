@page "/test-home"
@using MudBlazor
@using POCA.Web

<MudContainer Class="pa-4">
    <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-6">
        Bem-vindo ao Portal de Atividades
    </MudText>

    <MudGrid Gutter="3" Justify="Justify.Center">
        @foreach (var item in PortalItems)
        {
            <MudItem xs="12" sm="6" md="4" lg="3">
                <MudCard Class="pa-3 hover-elevate cursor-pointer" Style="height: 200px;"
                         @onclick="() => Navegar(item.Link)">
                    <MudCardContent Class="d-flex flex-column align-center justify-center text-center">
                        <MudIcon Icon="@item.Icon" Size="Size.Large" Color="Color.Primary" />
                        <MudText Typo="Typo.h6" Class="mt-2">@item.Titulo</MudText>
                        <MudText Typo="Typo.body2" Class="mt-1 text-secondary">@item.Descricao</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        }
    </MudGrid>
</MudContainer>

@code
{
    [Inject] NavigationManager NavigationManager { get; set; } = default!;

    public List<PortalItem> PortalItems { get; set; } = new();

    protected override void OnInitialized()
    {
        PortalItems = new List<PortalItem>
        {
            new() { Titulo = "Atividades", Descricao = "Acesse suas atividades e desafios", Icon = Icons.Material.Filled.School, Link = "/atividades" },
            new() { Titulo = "Perfil", Descricao = "Gerencie suas informações pessoais", Icon = Icons.Material.Filled.Person, Link = "/perfil" },
            new() { Titulo = "Ranking", Descricao = "Veja o desempenho dos alunos", Icon = Icons.Material.Filled.Leaderboard, Link = "/ranking" },
            new() { Titulo = "Configurações", Descricao = "Personalize sua experiência", Icon = Icons.Material.Filled.Settings, Link = "/configuracoes" }
        };
    }

    protected void Navegar(string link)
    {
        NavigationManager.NavigateTo(link);
    }

    public class PortalItem
    {
        public string Titulo { get; set; } = string.Empty;
        public string Descricao { get; set; } = string.Empty;
        public string Icon { get; set; } = string.Empty;
        public string Link { get; set; } = string.Empty;
    }
}